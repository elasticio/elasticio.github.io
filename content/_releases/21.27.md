---
title: Product Update - v21.27
description: Details of the product update v21.27 from 8th of July 2021.
layout: rel
version: "21.27"
section: Product Updates
category: product-updates
releaseDate: 2021-07-08
---

## Features



## Improvements and Updates


### Executions page slow loading

With the {{page.version}} release we improved the loading speeds of the execution
threads. In this scope the following improvements were done:

*   Optimised the internal communications between the UI and back-end services.
*   The revised and improved the threads list (execution page) and individual threads pages.
*   The default time intervals for listing the threads is now 7 days instead of previous 30 days.

We also added a new environment variable to the system (`BRAN_RETENTION_MONTHS_MESSAGES`)
This variable defines the number of months to store the data for Executions page.
The default value is `1` (1 month).

{% if site.data.tenant.name == "elastic.io" %}

## HELM3

We are in middle of constantly improving various aspects of HELM3 deployments in
collaborations with our partners. These are updates and improvements done in
this round.

### Kubernetes Namespaces

With {{page.version}} release we remove Kubernetes namespace hard-coding from our
charts.

> **IMPORTANT** : Before you deploy this version you must add the following
> annotation to all existing Kubernetes namespaces:

```yaml
annotations:
    helm.sh/hook: pre-install
    helm.sh/hook-delete-policy: before-hook-creation
    helm.sh/hook-weight: "0"
```

Edit namespaces through `kubectl` command before deployments. Failure to do so
would result in failure of {{page.version}} version deployment. To disable
automatic namespace creation you need to set `global.namespaces.enabled` to
`false` (default is `true`).

### Redis deployment is optional

To support external Redis service we made the service as optional and the HELM3
charts were changed accordingly. To use en external Redis service follow these
steps:

1.  Set the `values.global.services.maesterRedis.enabled` and `values.global.services.cache.enabled` values as `false`. This means both Redis services will not be deployed during the deployment.
2.  Add values for the following parameters to use external Redis:
    *   `values.global.config.CACHE_REDIS_URI`: `redis://uri-to-external.redis`,
    *   and `values.global.config.MAESTER_REDIS_URI` : `redis://uri-to-external.redis`.


### Charts Security Audit

An audit of HELM3 charts were performed to remove any sensitive data like keys, password
and credentials from main charts. All sensitive data were migrated into the secrets.

## OEM Related

News in this section are for our customers who use
[OEM version of the elastic.io platform](https://www.elastic.io/saas-embedded-integration/).




{% endif %}

## Fixed Bugs


## Components

### [REST API component](/components/rest-api/)

*   **FIXED** OAuth2 authentication strategy limitation: `refresh_token` property is now optional for Access Token Response (also optional in OAuth2 standard).

### [Delta Detection Component](/components/delta-detection)

*   **REFACTORED** to `maester-client` library based on `object-storage-client` library.
*   **UPDATED** to sailor version `2.6.24`.
