---
title: Product Update - v22.28
description: Details of the product update v22.28 from 14th of July 2022.
layout: rel
version: "22.28"
section: Product Updates
category: product-updates
releaseDate: 2022-07-14
redirect_from:
  - /releases/22.28.html
---

## Improvements and Updates

### Per-tenant frontend styles feature removed

We've removed feature that builds per-tenant styles and applied them based on `tenant.cssEnabled` and `tenant.code property`. We also removed all tenant styles from our codebase.

> PLease visit our [API documentation]({{site.data.tenant.apiBaseUri}}/docs/v2/#tenants) for more information.

###  Remove mailchimp code

Since we no longer support the mailchimp we have removed all properties from tenants and keys from api docs.

{% if site.data.tenant.name == "elastic.io" %}

## HELM3

We constantly improve different aspects of HELM3 deployments in collaboration
with our partners. This section lists updates and improvements included in this release.

###   Add Ability to Set Per-Service Custom Ingress Annotations

To increase flexibility in ingress configurations for different hosts we made a **breaking change**. We have changed the structure of model property `tenant.ingressConfig.annotations` and `helm.Values.global.services.handmaiden.annotations`:

  * `tenant.ingress_config.annotations` format changed, **unset it via API before upgrade platform with current release** and set to a new format after

  * `global.services.handmaiden.annotations` HELM variable format changed, set it to new format during upgrade

 Here you can see the corresponding code for PATCH v2/tenants endpoint:

 <details close markdown="block"><summary><strong>Click to expand for more details</strong></summary>

 ```json
 {
     "data": {
         "type": "tenant",
         "attributes": {
             "ingress_config": {
                 "annotations": {
                     "app": {
                         "nginx/123": "123",
                         "nginx/456": "456"
                     },
                     "api": {
                         "nginx/123": "123",
                         "nginx/456": "456"
                     },
                     "webhooks": {
                         "nginx/mtls": "true",
                         "nginx/456": "456"
                     },
                     "apidocs": {
                         "nginx/mtls": "true",
                         "nginx/456": "456"
                     }
                 }
             }
         }
     }
 }
 ```

 </details>

> PLease visit our [API documentation]({{site.data.tenant.apiBaseUri}}/docs/v2/#tenants) for more information.

### Add "--push-retry" option to kaniko.

 To improve push behaviour we added `--push-retry` flag in gitreceiver and made it configurable in gitreceiver only (default: 3).

## OEM Related

Information in this section is intended for our customers who use
[OEM version of the elastic.io platform](https://www.elastic.io/saas-embedded-integration/).

### Support new component builder for java components

We are introducing a new `сomponent-build-helper` [version](https://www.npmjs.com/package/@elastic.io/component-build-helper) `0.1.0`. It also means that the old appbuilder is totally deprecated and is no longer supported. We have added custom dockerfile support for Java components.

> **Please Note:** For now our new component builder supports Java 8 based components only.

### Check for vulnerabilities after build using grype

Component vulnerabilities check in the build docker image is done by `сomponent-build-helper` during component build process. Components-build-helper has `build_component_docker` command which checks docker image vulnerabilities using grype tool.

> For more information please visit our [article](/developers/component-build-configuration) on Components build configuration requirements.

{% endif %}

## Fixed bugs

* Fixed bug where status page is not exposed at React pages if any maintenance is active. We added property "location" ("head" or "body", default: "head") into `tenant.attributes.customScripts`.

> PLease visit our [API documentation]({{site.data.tenant.apiBaseUri}}/docs/v2/#tenants) for more information.

## Components

### [Stripe Component](/components/stripe/) `1.0.0`

*   **ADDED** `Make Raw Request` Action

### [Shopify admin component](/components/shopify) `1.6.3`

*   **UPDATED** `Lookup Objects` action, now method `search` used instead of `list` for `customer` object type

### [XERO component](/components/xero) `1.1.0`

*   **ADDED** Lookup Objects (plural) Action
*   **ADDED** Lookup Object (at most one) Action
*   **ADDED** Void approved invoices or bills Action
*   **ADDED** Get Updated Objects Polling Trigger
