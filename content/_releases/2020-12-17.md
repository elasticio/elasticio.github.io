---
title: Product Update - v20.51
description: Details of the product update v20.51 from 17th of December 2020.
layout: rel
version: "20.51"
section: Product Updates
category: product-updates
releaseDate: 2020-12-17
---

## Features

### Feature fields in developer mode

With this release we introduce feature fields for the mapper Developer mode. You
can open and examine the component input metadata and add needed objects by clicking
on it. You can also add the path to property if using function or expression.

![Developer mode feature fields](/assets/img/RN/2051/feature-fields-developer-mode.gif)

Animation above shows an example of these fields while configuring the email component.

### Flow step logging level setup

As an integrator or component developer we need to dive into the troubleshooting
and debugging sessions to identify and iron out some problems in our projects.
For this purposes, the detailed logs are invaluable. On the other hand, detailed
logs are sometimes unnecessary during the normal operation runs if you tend to
exchange sensitive data through your integration projects.

To control the logging level for each of your flow-step we introduce a new
setup called **Log Level**, accessible from the Advanced Setting part of flow-step
Summary. With this setup you can increase or decrease the output logging level of
your component from the default **Info** using the drop-down control shown below.

![Choose the logging level](/assets/img/RN/2051/log-level-setup.png)

> **Please Note:** To change the logging level of any flow-step, you must create
> a new draft for your flow, save it and start again.

The available logging levels are **Trace**, **Debug**, **Info**, **Warning** and
**Error** where the **Trace** will output everything your component can show. On the
other end of this spectrum, the **Error** level would output only the flow-step errors.

You can set or change the logging level directly using our REST API call. For this
purposes we extended the flow step configuration by adding the `log_level` parameter:

```json
"attributes": {
  "nodes_config": {
    "step_1": {
      "log_level":"info"
    }
  }
}
```
### Retry-all flow errors

During some exceptional circumstances, you might get too many errors in your flow
execution to [retry it one-by-one](/guides/error-retry#reprocess-and-retry). To help
process these errors in one go we introduce a new option **Retry All Errors** which
will appear if more than one error happens in the execution.

![Retry all button](/assets/img/RN/2051/retry-all-errors.png)

When clicked, our system will ask you to confirm your action by displaying you
the following popup message:

> Note: the error messages will be deleted from this Runlog Record. Retry results will arrive to this Runlog record.

![Retry all confirmation](/assets/img/RN/2051/retry-all-errors-confirmation.png)

You can cancel and return to your screen with errors or confirm and retry all
errors, in which case our system will retry all retriable errors. This feature
has a limitation: **you can't edit messages before retrying while using retry all errors**.

## Improvements and Updates

- Remove or disable the old mapping experience.
Here the tenant flag tenant.feature_flags.old_mapper_enabled was added. It is set on false by default.
If tenant.feature_flags.old_mapper_enabled = true then old/new mapper switcher should be present and everything should be as it is now.
If tenant.feature_flags.old_mapper_enabled = false or not set then old mapper should be disabled and new mapper is always used.
New API-docs: https://api.elastic.io/docs/v2/#tenants

### Node.js Sailor updates

With this release we introduce next sets of improvements to the Node.js Sailor,
the base library used to compile any Node.js based component code during the
platform deployments.

> **Component Developers Note**: Use Sailor version `2.6.21` along with the Node
> version `12.20.0` or higher for these improvements. Details follow.

#### AMQP connection problems

Starting from the Node.js Sailor version `2.6.19+`, we improved the mechanism used
in the connection to and from the RabbitMQ queues and the pods running your component
code.

*   Introducing a separate connections for consuming and publishing the messages.
*   The consuming is done with polling instead of pushing.
*   The re-connects on connection errors.
*   It handles the consumer cancel notifications.
*   Decreased the logging levels for certain cases to help troubleshoot problems.
*   We introduce new environment variables you can use in your components to control connection to and from queues engine:
    *   `AMQP_RECONNECT_ATTEMPTS` - number of retries on connection close.
    *   `AMQP_RECONNECT_TIMEOUT` - delay between connection retries.
    *   `WAIT_MESSAGES_TIMEOUT` - delay between next poll when queue is empty.

#### Rebound Headers

Starting from the Node.js Sailor `2.6.21+`, the rebound message headers and the rebound
message expiry time inconsistencies are fixed.


{% if site.data.tenant.name == "elastic.io" %}

## OEM Related

### Configure timeouts for one-time executions

You can now configure how long it would take the one-time execution to timeout
and severe the connection with the third party resource. We introduced a new
variable `FORCE_DESTROY_ONE_TIME_EXEC_SEC` to control the timout.

To use this functionality add/change `force_destroy_one_time_exec_sec` ksonnet
parameter in the `config.json` file and write your desired time.
**The default is 120 seconds.**

{% endif %}

## Fixed Bugs

- Problems with deleting symbols in the text-field for oauth2 credentials
- Improve manual sample creation UX
- Missing scroll in developer mode for components with metadata at the bottom of the page
- Set focus on the new-credential form after pressing the button "Add New Credential"
- Handle the case when component's select-model result is null.
We show an error to make User undertenting than select model should be reloaded manually

## Components

Product Update - v20.47, 2020-11-19
PS sprint #52:
https://github.com/elasticio/batch-component/issues/19
https://github.com/elasticio/projects/issues/330#issue-737074735
https://github.com/elasticio/filter-component/issues/35
https://github.com/elasticio/postgresql-component/issues/33
https://github.com/elasticio/salesforce-component-v2/issues/5
https://github.com/elasticio/utility-component/issues/19
https://github.com/elasticio/utility-component/issues/13
https://github.com/elasticio/rest-api-component-v2/issues/10
это не попадало в прошлый месячный релиз, поэтому перенесли на этот :point_up:
неделя 1, спринт 53
https://github.com/elasticio/projects/issues/332
amazon-aws-lambda
microsoft-dynamics-nav
outlook
pipedrive
channeladvisor
неделя 2 спринт 53
https://github.com/elasticio/projects/issues/335
https://github.com/elasticio/projects/issues/332
microsoft-dynamics-crm
https://github.com/elasticio/appdirect-component/issues/80
неделя 1, спринт 54
https://github.com/elasticio/projects/issues/337
