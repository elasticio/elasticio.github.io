---
title: Product Update - v20.27
description: Details of the product update v20.27 from 2nd of July 2020.
layout: rel
version: "20.27"
section: Product Updates
category: product-updates
releaseDate: 2020-07-02
---

## Features

### Custom error handling in flows

User Story

As an integrator, I want to define on-error logic for a flow (per flow) that is triggered when a flow error occurs so that I can customize error handling.

One of important use-cases for this is a possibility of error handling in request-reply flows.

Limitations

"Container failed to start" errors are not handled by request-reply as error handler and cause request timeout on webhook
"Container failed to start" errors have no original message in it
For making component can be chosen as error handler you should update it with the sailor 2.6.13. Component won't display in the list if it hasn't the latest sailor or use mapper without latest sailor.

Custom error handler support in Flow Designer:

Only 1 error handling is supported for now, icon is located at the right bottom corner and is visible at all times except if user is in version mode of designer and that version does not have any custom error handling
Custom error handing step configuration has an icon of the chosen node in the step summary and in the header, instead of the general icon (BUT, on the graph the icon never changes)
The incoming hardcoded sample:
{
    error: {
        message: 'Error message',
        name: 'Error name',
        stack: 'Error stack trace'
    },
    errorInput: {
        properties: {
            headers: {}
        },
        content: {
            headers: {},
            body: {}
        }
    }
}

## Improvements

### Secrets Management Service Improvements

We continue our improvements and developments of the New Secrets Management
service. In this round we worked on authentication parameters.

- Auth-client's for oauth2 is now support auth_uri and token_uri.
Auth-clients for oAuth2 supports auth_uri and token_uri attributes in credentials. Notice: API-requests for auth-client were changed. API-docs: https://api.elastic.io/docs/v2/#auth-clients-(experimental)

- Faceless should refresh token slightly BEFORE expiry.
Trigger token refresh 60 seconds earlier than expires_in data.

- Faceless should set token_expires_in from auth clients to secrets expires_in on create.
Now when you create new secret which linked to auth-client with token_expires_in attribute the data for expires_in attribute in secret will be taken from the token_expires_in data.

### Request-reply Response Code

- As an Intergator I want to configure response code in request-reply component.
New version of request-reply-component 1.1.0

We added response code field into Component Input section. Response code is passed in the reply message header. Response code is 200 by default.


## Fixed Bugs

*   Fixes the problem

- Just created credential disappears from the list until refreshing the page
- Pub/Sub Topic shcema generator adds empty "title" property
- Problem in UI mapper with objects in arrays.
If the metadata has an object inside an array, it was not possible to set/change values in this object using UI mapper.

- There is a problem with editing an auth-secret after using not valid auth-client.
- Frontend crash when trying to cancel unexisting consumerTag (subscriptionManager onDisconnect).
- Iron bank killed by kubernetes due to failed healthchecks.

## Components

### [Code component](/components/code)

*   **UPDATED** - Node.js Sailor was updated to `2.6.13`.

### [Mapper component](/components/mapper)

*   **UPDATED** - Node.js Sailor was updated to `2.6.13`.

### [MongoDB Component](/components/mongodb)

*   **UPDATED** - component updated to use Node v14 and the dependencies are updated accordingly.
*   **UPDATED** - Node.js Sailor was updated to `2.6.10`.
*   **IMPROVED** - add Emit Batch Behavior to **Lookup Plural** action
*   **IMPROVED** - add Emit Behavior to **Aggregate** and **Lookup Plural** actions
*   **IMPROVED** - input field positions corrected using an order rather than a weight factor.

### [Microsoft Dynamics CRM component](/components/msdynamics-crm/)

*   **NEW** - introducing new action **Query**.
*   **NEW** - introducing new action **Delete Object By ID**.
*   **NEW** - introducing new action **Bulk Create**.
*   **NEW** - introducing new action **Bulk Update**.
*   **NEW** - introducing new action **Bulk Delete**.
*   **NEW** - introducing new action **Lookup Objects**.
*   **IMPROVED** - new implementation **Upsert** action with image attachment support
*   **IMPROVED** - new implementation **Lookup Object** action with image attachment support

### [Marketo component](/components/marketo/)

*   **FIXED** -  the bug when query string exceeds 8K characters
*   **UPDATED** - component updated to use Node v14 and the dependencies are updated accordingly.
*   **UPDATED** - component logo was updated
*   **IMPROVED** - More clearly report HTTP level failures

### [SFTP Component](/components/sftp/)

*   **NEW** - introducing new action **Move File**.
*   **IMPROVED** - component performs better when trying to download large number of files.

### [Google Spreadsheets](/components/gspreadsheets/)

*   **NEW** - introducing support for OAuth clients. Changed the environment variable naming accordingly.
*   **UPDATED** - Node.js Sailor was updated to `2.6.9`.
*   **UPDATED** - metadata for **add new row** action.

### [Magento2 Component](/components/magento2/)

*   **NEW** - introducing new trigger **Bulk Extract**.
*   **NEW** - introducing new action **Lookup Objects**.
*   **NEW** - introducing new action **Lookup Set of Objects**.
*   **IMPROVED** - component now uses the new logger.
*   **IMPROVED** - replaces parameters in error messages when parameters are an object, not an array.

### [Amazon AWS S3 Component](/components/aws-s3/)

*   **NEW** - introducing new action **Upsert File**.
*   **UPDATED** - component updated to use Node v14 and the dependencies are updated accordingly.
*   **IMPROVED** - verify Credentials now checks for access to buckets.

### [SOAP Component](/components/soap/)

*   **IMPROVED** - input field positions corrected using an order rather than a weight factor.
